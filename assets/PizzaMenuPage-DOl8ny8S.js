import{r as n,P as g,j as e}from"./index-fLwPPDI2.js";import{P}from"./PizzaHeader-CJkyyUYz.js";import{B as p}from"./Button-jBBErFi1.js";import{c as N}from"./pizzaMenuItemHelper-DCOHgZ_F.js";import"./Navigation-DFIaHfC4.js";const C=r=>{const[a,i]=n.useState([]),[t,m]=n.useState(null),[o,l]=n.useState(!1);return n.useEffect(()=>{(async()=>{try{l(!0);const s=await fetch(r);if(!s.ok)throw new Error("Fetch error happened");const u=await s.json();i(u.data)}catch(s){console.log(s.message),m(s.message)}finally{l(!1)}})()},[]),[a,t,o]};function v(r){const{incrementPizzaCount:a,decrementPizzaCount:i}=n.useContext(g),{info:t}=r,{imageUrl:m,name:o,unitPrice:l,ingredients:x,soldOut:s}=t,u=N(x),[d,z]=n.useState(0);function h(c){z(1),a(c)}function j(c){z(d-1),i(c.id)}function f(c){z(d+1),a(c)}return e.jsxs("div",{className:"pizza-item",children:[e.jsx("img",{src:m,alt:`${o} Pizza`,className:"pizza-image"}),e.jsxs("div",{className:"pizza-info",children:[e.jsx("h2",{children:o}),e.jsx("p",{className:"ingredients",children:u}),s?e.jsx("p",{className:"sold-out",children:"SOLD OUT"}):e.jsxs("p",{className:"price",children:["â‚¬",l,".00"]})]}),!s&&e.jsx("div",{className:"cart-controls",children:d===0?e.jsx(p,{className:"add-to-cart",onClick:()=>h(t),children:"ADD TO CART"}):e.jsxs("div",{className:"counter",children:[e.jsx(p,{className:"decrement","aria-label":"Decrease quantity",onClick:()=>j(t),children:"-"}),e.jsx("span",{children:d}),e.jsx(p,{className:"increment","aria-label":"Increase quantity",onClick:()=>f(t),children:"+"})]})})]})}function S(){const[r,a,i]=C("https://react-fast-pizza-api.onrender.com/api/menu");return i?e.jsx("div",{children:"Pizza list loading ..."}):e.jsxs("div",{className:"menu-container",children:[a&&e.jsx("div",{children:"Sorry, error happened. Try one more time please."}),r.map(t=>e.jsx(v,{info:t},t.id))]})}function w(){return e.jsxs(e.Fragment,{children:[e.jsx(P,{}),e.jsx(S,{})]})}export{w as default};
